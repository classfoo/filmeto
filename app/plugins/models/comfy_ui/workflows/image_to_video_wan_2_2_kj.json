{
  "client_id": "fec0e423d2bd487ba181ffdab66a3d39",
  "prompt": {
    "11": {
      "inputs": {
        "model_name": "umt5-xxl-enc-bf16.safetensors",
        "precision": "bf16",
        "load_device": "offload_device",
        "quantization": "disabled"
      },
      "class_type": "LoadWanVideoT5TextEncoder",
      "_meta": {
        "title": "WanVideo T5 Text Encoder Loader"
      }
    },
    "16": {
      "inputs": {
        "positive_prompt": "$prompt",
        "negative_prompt": "色调艳丽，过曝，静态，细节模糊不清，字幕，风格，作品，画作，画面，静止，整体发灰，最差质量，低质量，JPEG压缩残留，丑陋的，残缺的，多余的手指，画得不好的手部，画得不好的脸部，畸形的，毁容的，形态畸形的肢体，手指融合，静止不动的画面，杂乱的背景，三条腿，背景人很多，倒着走",
        "force_offload": true,
        "use_disk_cache": false,
        "device": "gpu",
        "t5": [
          "11",
          0
        ]
      },
      "class_type": "WanVideoTextEncode",
      "_meta": {
        "title": "WanVideo TextEncode"
      }
    },
    "22": {
      "inputs": {
        "model": "wan2.2/Wan2_2-I2V-A14B-HIGH_fp8_e4m3fn_scaled_KJ.safetensors",
        "base_precision": "fp16",
        "quantization": "fp8_e4m3fn_scaled",
        "load_device": "offload_device",
        "attention_mode": "sageattn",
        "compile_args": [
          "35",
          0
        ]
      },
      "class_type": "WanVideoModelLoader",
      "_meta": {
        "title": "WanVideo Model Loader"
      }
    },
    "27": {
      "inputs": {
        "steps": [
          "94",
          0
        ],
        "cfg": [
          "95",
          0
        ],
        "shift": 8,
        "seed": 633890936133287,
        "force_offload": true,
        "scheduler": "dpm++_sde",
        "riflex_freq_index": 0,
        "denoise_strength": 1,
        "batched_cfg": false,
        "rope_function": "comfy",
        "start_step": 0,
        "end_step": [
          "91",
          0
        ],
        "add_noise_to_samples": "",
        "model": [
          "80",
          0
        ],
        "image_embeds": [
          "89",
          0
        ],
        "text_embeds": [
          "16",
          0
        ]
      },
      "class_type": "WanVideoSampler",
      "_meta": {
        "title": "WanVideo Sampler"
      }
    },
    "28": {
      "inputs": {
        "enable_vae_tiling": true,
        "tile_x": 272,
        "tile_y": 272,
        "tile_stride_x": 144,
        "tile_stride_y": 128,
        "normalization": "default",
        "vae": [
          "38",
          0
        ],
        "samples": [
          "90",
          0
        ]
      },
      "class_type": "WanVideoDecode",
      "_meta": {
        "title": "WanVideo Decode"
      }
    },
    "35": {
      "inputs": {
        "backend": "inductor",
        "fullgraph": false,
        "mode": "default",
        "dynamic": false,
        "dynamo_cache_size_limit": 64,
        "compile_transformer_blocks_only": true,
        "dynamo_recompile_limit": 128
      },
      "class_type": "WanVideoTorchCompileSettings",
      "_meta": {
        "title": "WanVideo Torch Compile Settings"
      }
    },
    "38": {
      "inputs": {
        "model_name": "wanvideo/Wan2_1_VAE_bf16.safetensors",
        "precision": "bf16"
      },
      "class_type": "WanVideoVAELoader",
      "_meta": {
        "title": "WanVideo VAE Loader"
      }
    },
    "39": {
      "inputs": {
        "blocks_to_swap": 20,
        "offload_img_emb": false,
        "offload_txt_emb": false,
        "use_non_blocking": false,
        "vace_blocks_to_swap": 1,
        "prefetch_blocks": 0,
        "block_swap_debug": false
      },
      "class_type": "WanVideoBlockSwap",
      "_meta": {
        "title": "WanVideo Block Swap"
      }
    },
    "56": {
      "inputs": {
        "lora": "wanvideo/lightx2v_I2V_14B_480p_cfg_step_distill_rank64_bf16.safetensors",
        "strength": 3,
        "low_mem_load": false,
        "merge_loras": false
      },
      "class_type": "WanVideoLoraSelect",
      "_meta": {
        "title": "WanVideo Lora Select"
      }
    },
    "60": {
      "inputs": {
        "frame_rate": 16,
        "loop_count": 0,
        "filename_prefix": "wan_kj/WanVideo2_2_I2V",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": true,
        "images": [
          "69",
          0
        ]
      },
      "class_type": "VHS_VideoCombine",
      "_meta": {
        "title": "Video Combine 🎥🅥🅗🅢"
      }
    },
    "67": {
      "inputs": {
        "image": "$inputImage"
      },
      "class_type": "LoadImage",
      "_meta": {
        "title": "加载图像"
      }
    },
    "68": {
      "inputs": {
        "width": 720,
        "height": 1280,
        "upscale_method": "lanczos",
        "keep_proportion": "crop",
        "pad_color": "0, 0, 0",
        "crop_position": "center",
        "divisible_by": 32,
        "device": "cpu",
        "image": [
          "67",
          0
        ]
      },
      "class_type": "ImageResizeKJv2",
      "_meta": {
        "title": "Resize Image v2"
      }
    },
    "69": {
      "inputs": {
        "image": [
          "28",
          0
        ]
      },
      "class_type": "GetImageSizeAndCount",
      "_meta": {
        "title": "Get Image Size & Count"
      }
    },
    "71": {
      "inputs": {
        "model": "wan2.2/Wan2_2-I2V-A14B-LOW_fp8_e4m3fn_scaled_KJ.safetensors",
        "base_precision": "fp16",
        "quantization": "fp8_e4m3fn_scaled",
        "load_device": "offload_device",
        "attention_mode": "sageattn",
        "compile_args": [
          "35",
          0
        ]
      },
      "class_type": "WanVideoModelLoader",
      "_meta": {
        "title": "WanVideo Model Loader"
      }
    },
    "79": {
      "inputs": {
        "model": [
          "93",
          0
        ],
        "lora": [
          "97",
          0
        ]
      },
      "class_type": "WanVideoSetLoRAs",
      "_meta": {
        "title": "WanVideo Set LoRAs"
      }
    },
    "80": {
      "inputs": {
        "model": [
          "92",
          0
        ],
        "lora": [
          "56",
          0
        ]
      },
      "class_type": "WanVideoSetLoRAs",
      "_meta": {
        "title": "WanVideo Set LoRAs"
      }
    },
    "89": {
      "inputs": {
        "width": [
          "68",
          1
        ],
        "height": [
          "68",
          2
        ],
        "num_frames": 97,
        "noise_aug_strength": 0,
        "start_latent_strength": 1,
        "end_latent_strength": 1,
        "force_offload": true,
        "fun_or_fl2v_model": false,
        "tiled_vae": true,
        "vae": [
          "38",
          0
        ],
        "start_image": [
          "68",
          0
        ]
      },
      "class_type": "WanVideoImageToVideoEncode",
      "_meta": {
        "title": "WanVideo ImageToVideo Encode"
      }
    },
    "90": {
      "inputs": {
        "steps": [
          "94",
          0
        ],
        "cfg": 1,
        "shift": 8,
        "seed": 633890936133287,
        "force_offload": true,
        "scheduler": "dpm++_sde",
        "riflex_freq_index": 0,
        "denoise_strength": 1,
        "batched_cfg": false,
        "rope_function": "comfy",
        "start_step": [
          "91",
          0
        ],
        "end_step": -1,
        "add_noise_to_samples": "",
        "model": [
          "79",
          0
        ],
        "image_embeds": [
          "89",
          0
        ],
        "text_embeds": [
          "16",
          0
        ],
        "samples": [
          "27",
          0
        ]
      },
      "class_type": "WanVideoSampler",
      "_meta": {
        "title": "WanVideo Sampler"
      }
    },
    "91": {
      "inputs": {
        "value": 3
      },
      "class_type": "INTConstant",
      "_meta": {
        "title": "Split_step"
      }
    },
    "92": {
      "inputs": {
        "model": [
          "22",
          0
        ],
        "block_swap_args": [
          "39",
          0
        ]
      },
      "class_type": "WanVideoSetBlockSwap",
      "_meta": {
        "title": "WanVideo Set BlockSwap"
      }
    },
    "93": {
      "inputs": {
        "model": [
          "71",
          0
        ],
        "block_swap_args": [
          "39",
          0
        ]
      },
      "class_type": "WanVideoSetBlockSwap",
      "_meta": {
        "title": "WanVideo Set BlockSwap"
      }
    },
    "94": {
      "inputs": {
        "value": 6
      },
      "class_type": "INTConstant",
      "_meta": {
        "title": "Steps"
      }
    },
    "95": {
      "inputs": {
        "steps": [
          "94",
          0
        ],
        "cfg_scale_start": 2,
        "cfg_scale_end": 2,
        "interpolation": "linear",
        "start_percent": 0,
        "end_percent": 0.01
      },
      "class_type": "CreateCFGScheduleFloatList",
      "_meta": {
        "title": "Create CFG Schedule Float List"
      }
    },
    "97": {
      "inputs": {
        "lora": "wanvideo/lightx2v_I2V_14B_480p_cfg_step_distill_rank64_bf16.safetensors",
        "strength": 1,
        "low_mem_load": false,
        "merge_loras": false
      },
      "class_type": "WanVideoLoraSelect",
      "_meta": {
        "title": "WanVideo Lora Select"
      }
    }
  },
  "extra_data": {
    "extra_pnginfo": {
      "workflow": {
        "id": "c6e410bc-5e2c-460b-ae81-c91b6094fbb1",
        "revision": 0,
        "last_node_id": 97,
        "last_link_id": 169,
        "nodes": [
          {
            "id": 35,
            "type": "WanVideoTorchCompileSettings",
            "pos": [
              -550,
              -870
            ],
            "size": [
              390.5999755859375,
              202
            ],
            "flags": {},
            "order": 0,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "name": "torch_compile_args",
                "type": "WANCOMPILEARGS",
                "slot_index": 0,
                "links": [
                  111,
                  112
                ]
              }
            ],
            "properties": {
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
              "Node name for S&R": "WanVideoTorchCompileSettings"
            },
            "widgets_values": [
              "inductor",
              false,
              "default",
              false,
              64,
              true,
              128
            ]
          },
          {
            "id": 92,
            "type": "WanVideoSetBlockSwap",
            "pos": [
              538.2930908203125,
              -699.6842041015625
            ],
            "size": [
              201.76815795898438,
              46
            ],
            "flags": {},
            "order": 14,
            "mode": 0,
            "inputs": [
              {
                "name": "model",
                "type": "WANVIDEOMODEL",
                "link": 155
              },
              {
                "name": "block_swap_args",
                "shape": 7,
                "type": "BLOCKSWAPARGS",
                "link": 156
              }
            ],
            "outputs": [
              {
                "name": "model",
                "type": "WANVIDEOMODEL",
                "links": [
                  157
                ]
              }
            ],
            "properties": {
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "ver": "7e290c67bff1f906cdab84523018573f6c9d4d7f",
              "Node name for S&R": "WanVideoSetBlockSwap"
            },
            "widgets_values": [],
            "color": "#223",
            "bgcolor": "#335"
          },
          {
            "id": 93,
            "type": "WanVideoSetBlockSwap",
            "pos": [
              548.8602294921875,
              -260.6182556152344
            ],
            "size": [
              201.76815795898438,
              46
            ],
            "flags": {},
            "order": 15,
            "mode": 0,
            "inputs": [
              {
                "name": "model",
                "type": "WANVIDEOMODEL",
                "link": 160
              },
              {
                "name": "block_swap_args",
                "shape": 7,
                "type": "BLOCKSWAPARGS",
                "link": 159
              }
            ],
            "outputs": [
              {
                "name": "model",
                "type": "WANVIDEOMODEL",
                "links": [
                  161
                ]
              }
            ],
            "properties": {
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "ver": "7e290c67bff1f906cdab84523018573f6c9d4d7f",
              "Node name for S&R": "WanVideoSetBlockSwap"
            },
            "widgets_values": [],
            "color": "#223",
            "bgcolor": "#335"
          },
          {
            "id": 79,
            "type": "WanVideoSetLoRAs",
            "pos": [
              969.6483764648438,
              -216.53614807128906
            ],
            "size": [
              222.27981567382812,
              46
            ],
            "flags": {},
            "order": 18,
            "mode": 0,
            "inputs": [
              {
                "name": "model",
                "type": "WANVIDEOMODEL",
                "link": 161
              },
              {
                "name": "lora",
                "shape": 7,
                "type": "WANVIDLORA",
                "link": 169
              }
            ],
            "outputs": [
              {
                "name": "model",
                "type": "WANVIDEOMODEL",
                "links": [
                  144
                ]
              }
            ],
            "properties": {
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
              "Node name for S&R": "WanVideoSetLoRAs"
            },
            "widgets_values": [],
            "color": "#223",
            "bgcolor": "#335"
          },
          {
            "id": 91,
            "type": "INTConstant",
            "pos": [
              1554.34130859375,
              293.0675964355469
            ],
            "size": [
              210,
              58
            ],
            "flags": {},
            "order": 1,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "name": "value",
                "type": "INT",
                "links": [
                  153,
                  154
                ]
              }
            ],
            "title": "Split_step",
            "properties": {
              "cnr_id": "comfyui-kjnodes",
              "ver": "a6b867b63a29ca48ddb15c589e17a9f2d8530d57",
              "Node name for S&R": "INTConstant"
            },
            "widgets_values": [
              3
            ],
            "color": "#1b4669",
            "bgcolor": "#29699c"
          },
          {
            "id": 80,
            "type": "WanVideoSetLoRAs",
            "pos": [
              985.8822021484375,
              -458.0684814453125
            ],
            "size": [
              222.27981567382812,
              46
            ],
            "flags": {},
            "order": 17,
            "mode": 0,
            "inputs": [
              {
                "name": "model",
                "type": "WANVIDEOMODEL",
                "link": 157
              },
              {
                "name": "lora",
                "shape": 7,
                "type": "WANVIDLORA",
                "link": 110
              }
            ],
            "outputs": [
              {
                "name": "model",
                "type": "WANVIDEOMODEL",
                "links": [
                  109
                ]
              }
            ],
            "properties": {
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
              "Node name for S&R": "WanVideoSetLoRAs"
            },
            "widgets_values": [],
            "color": "#223",
            "bgcolor": "#335"
          },
          {
            "id": 69,
            "type": "GetImageSizeAndCount",
            "pos": [
              2725.78076171875,
              -249.85873413085938
            ],
            "size": [
              240.41265869140625,
              86
            ],
            "flags": {},
            "order": 22,
            "mode": 0,
            "inputs": [
              {
                "name": "image",
                "type": "IMAGE",
                "link": 76
              }
            ],
            "outputs": [
              {
                "name": "image",
                "type": "IMAGE",
                "links": [
                  77
                ]
              },
              {
                "label": "1120 width",
                "name": "width",
                "type": "INT",
                "links": null
              },
              {
                "label": "608 height",
                "name": "height",
                "type": "INT",
                "links": null
              },
              {
                "label": "81 count",
                "name": "count",
                "type": "INT",
                "links": null
              }
            ],
            "properties": {
              "cnr_id": "comfyui-kjnodes",
              "ver": "a6b867b63a29ca48ddb15c589e17a9f2d8530d57",
              "Node name for S&R": "GetImageSizeAndCount"
            },
            "widgets_values": []
          },
          {
            "id": 94,
            "type": "INTConstant",
            "pos": [
              1446.0140380859375,
              -77.41889953613281
            ],
            "size": [
              210,
              58
            ],
            "flags": {},
            "order": 2,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "name": "value",
                "type": "INT",
                "links": [
                  163,
                  164,
                  165
                ]
              }
            ],
            "title": "Steps",
            "properties": {
              "cnr_id": "comfyui-kjnodes",
              "ver": "a6b867b63a29ca48ddb15c589e17a9f2d8530d57",
              "Node name for S&R": "INTConstant"
            },
            "widgets_values": [
              6
            ],
            "color": "#1b4669",
            "bgcolor": "#29699c"
          },
          {
            "id": 95,
            "type": "CreateCFGScheduleFloatList",
            "pos": [
              1455.8336181640625,
              44.19880294799805
            ],
            "size": [
              298.3199157714844,
              178
            ],
            "flags": {},
            "order": 11,
            "mode": 0,
            "inputs": [
              {
                "name": "steps",
                "type": "INT",
                "widget": {
                  "name": "steps"
                },
                "link": 165
              }
            ],
            "outputs": [
              {
                "name": "float_list",
                "type": "FLOAT",
                "links": [
                  167
                ]
              }
            ],
            "properties": {
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "ver": "7e290c67bff1f906cdab84523018573f6c9d4d7f",
              "Node name for S&R": "CreateCFGScheduleFloatList"
            },
            "widgets_values": [
              30,
              2,
              2,
              "linear",
              0,
              0.01
            ]
          },
          {
            "id": 11,
            "type": "LoadWanVideoT5TextEncoder",
            "pos": [
              205.93421936035156,
              -21.262622833251953
            ],
            "size": [
              377.1661376953125,
              130
            ],
            "flags": {},
            "order": 3,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "name": "wan_t5_model",
                "type": "WANTEXTENCODER",
                "slot_index": 0,
                "links": [
                  15
                ]
              }
            ],
            "properties": {
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
              "Node name for S&R": "LoadWanVideoT5TextEncoder"
            },
            "widgets_values": [
              "umt5-xxl-enc-bf16.safetensors",
              "bf16",
              "offload_device",
              "disabled"
            ],
            "color": "#332922",
            "bgcolor": "#593930"
          },
          {
            "id": 39,
            "type": "WanVideoBlockSwap",
            "pos": [
              516.8650512695312,
              -526.5733642578125
            ],
            "size": [
              315,
              202
            ],
            "flags": {},
            "order": 4,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "name": "block_swap_args",
                "type": "BLOCKSWAPARGS",
                "slot_index": 0,
                "links": [
                  156,
                  159
                ]
              }
            ],
            "properties": {
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
              "Node name for S&R": "WanVideoBlockSwap"
            },
            "widgets_values": [
              20,
              false,
              false,
              false,
              1,
              0,
              false
            ],
            "color": "#223",
            "bgcolor": "#335"
          },
          {
            "id": 56,
            "type": "WanVideoLoraSelect",
            "pos": [
              -765.4373168945312,
              -481.49810791015625
            ],
            "size": [
              659.4812622070312,
              150
            ],
            "flags": {},
            "order": 5,
            "mode": 0,
            "inputs": [
              {
                "name": "prev_lora",
                "shape": 7,
                "type": "WANVIDLORA",
                "link": null
              },
              {
                "name": "blocks",
                "shape": 7,
                "type": "SELECTEDBLOCKS",
                "link": null
              }
            ],
            "outputs": [
              {
                "name": "lora",
                "type": "WANVIDLORA",
                "links": [
                  110
                ]
              }
            ],
            "properties": {
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
              "Node name for S&R": "WanVideoLoraSelect"
            },
            "widgets_values": [
              "wanvideo/lightx2v_I2V_14B_480p_cfg_step_distill_rank64_bf16.safetensors",
              3,
              false,
              false
            ],
            "color": "#223",
            "bgcolor": "#335"
          },
          {
            "id": 97,
            "type": "WanVideoLoraSelect",
            "pos": [
              -717.8909301757812,
              -252.48538208007812
            ],
            "size": [
              624.4888305664062,
              150
            ],
            "flags": {},
            "order": 6,
            "mode": 0,
            "inputs": [
              {
                "name": "prev_lora",
                "shape": 7,
                "type": "WANVIDLORA",
                "link": null
              },
              {
                "name": "blocks",
                "shape": 7,
                "type": "SELECTEDBLOCKS",
                "link": null
              }
            ],
            "outputs": [
              {
                "name": "lora",
                "type": "WANVIDLORA",
                "links": [
                  169
                ]
              }
            ],
            "properties": {
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
              "Node name for S&R": "WanVideoLoraSelect"
            },
            "widgets_values": [
              "wanvideo/lightx2v_I2V_14B_480p_cfg_step_distill_rank64_bf16.safetensors",
              1,
              false,
              false
            ],
            "color": "#223",
            "bgcolor": "#335"
          },
          {
            "id": 38,
            "type": "WanVideoVAELoader",
            "pos": [
              1373.9725341796875,
              -991.5189208984375
            ],
            "size": [
              315,
              82
            ],
            "flags": {},
            "order": 7,
            "mode": 0,
            "inputs": [
              {
                "name": "compile_args",
                "shape": 7,
                "type": "WANCOMPILEARGS",
                "link": null
              }
            ],
            "outputs": [
              {
                "name": "vae",
                "type": "WANVAE",
                "slot_index": 0,
                "links": [
                  43,
                  137
                ]
              }
            ],
            "properties": {
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
              "Node name for S&R": "WanVideoVAELoader"
            },
            "widgets_values": [
              "wanvideo/Wan2_1_VAE_bf16.safetensors",
              "bf16"
            ],
            "color": "#322",
            "bgcolor": "#533"
          },
          {
            "id": 22,
            "type": "WanVideoModelLoader",
            "pos": [
              -10,
              -740
            ],
            "size": [
              477.4410095214844,
              314
            ],
            "flags": {},
            "order": 9,
            "mode": 0,
            "inputs": [
              {
                "name": "compile_args",
                "shape": 7,
                "type": "WANCOMPILEARGS",
                "link": 111
              },
              {
                "name": "block_swap_args",
                "shape": 7,
                "type": "BLOCKSWAPARGS",
                "link": null
              },
              {
                "name": "lora",
                "shape": 7,
                "type": "WANVIDLORA",
                "link": null
              },
              {
                "name": "vram_management_args",
                "shape": 7,
                "type": "VRAM_MANAGEMENTARGS",
                "link": null
              },
              {
                "name": "extra_model",
                "shape": 7,
                "type": "VACEPATH",
                "link": null
              },
              {
                "name": "fantasytalking_model",
                "shape": 7,
                "type": "FANTASYTALKINGMODEL",
                "link": null
              },
              {
                "name": "multitalk_model",
                "shape": 7,
                "type": "MULTITALKMODEL",
                "link": null
              },
              {
                "name": "fantasyportrait_model",
                "shape": 7,
                "type": "FANTASYPORTRAITMODEL",
                "link": null
              },
              {
                "name": "vace_model",
                "shape": 7,
                "type": "VACEPATH",
                "link": null
              }
            ],
            "outputs": [
              {
                "name": "model",
                "type": "WANVIDEOMODEL",
                "slot_index": 0,
                "links": [
                  155
                ]
              }
            ],
            "properties": {
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
              "Node name for S&R": "WanVideoModelLoader"
            },
            "widgets_values": [
              "wan2.2/Wan2_2-I2V-A14B-HIGH_fp8_e4m3fn_scaled_KJ.safetensors",
              "fp16",
              "fp8_e4m3fn_scaled",
              "offload_device",
              "sageattn"
            ],
            "color": "#223",
            "bgcolor": "#335"
          },
          {
            "id": 71,
            "type": "WanVideoModelLoader",
            "pos": [
              -10,
              -380
            ],
            "size": [
              477.4410095214844,
              314
            ],
            "flags": {},
            "order": 10,
            "mode": 0,
            "inputs": [
              {
                "name": "compile_args",
                "shape": 7,
                "type": "WANCOMPILEARGS",
                "link": 112
              },
              {
                "name": "block_swap_args",
                "shape": 7,
                "type": "BLOCKSWAPARGS",
                "link": null
              },
              {
                "name": "lora",
                "shape": 7,
                "type": "WANVIDLORA",
                "link": null
              },
              {
                "name": "vram_management_args",
                "shape": 7,
                "type": "VRAM_MANAGEMENTARGS",
                "link": null
              },
              {
                "name": "extra_model",
                "shape": 7,
                "type": "VACEPATH",
                "link": null
              },
              {
                "name": "fantasytalking_model",
                "shape": 7,
                "type": "FANTASYTALKINGMODEL",
                "link": null
              },
              {
                "name": "multitalk_model",
                "shape": 7,
                "type": "MULTITALKMODEL",
                "link": null
              },
              {
                "name": "fantasyportrait_model",
                "shape": 7,
                "type": "FANTASYPORTRAITMODEL",
                "link": null
              },
              {
                "name": "vace_model",
                "shape": 7,
                "type": "VACEPATH",
                "link": null
              }
            ],
            "outputs": [
              {
                "name": "model",
                "type": "WANVIDEOMODEL",
                "slot_index": 0,
                "links": [
                  160
                ]
              }
            ],
            "properties": {
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
              "Node name for S&R": "WanVideoModelLoader"
            },
            "widgets_values": [
              "wan2.2/Wan2_2-I2V-A14B-LOW_fp8_e4m3fn_scaled_KJ.safetensors",
              "fp16",
              "fp8_e4m3fn_scaled",
              "offload_device",
              "sageattn"
            ],
            "color": "#223",
            "bgcolor": "#335"
          },
          {
            "id": 28,
            "type": "WanVideoDecode",
            "pos": [
              2620.946533203125,
              -519.3373413085938
            ],
            "size": [
              315,
              198
            ],
            "flags": {},
            "order": 21,
            "mode": 0,
            "inputs": [
              {
                "name": "vae",
                "type": "WANVAE",
                "link": 43
              },
              {
                "name": "samples",
                "type": "LATENT",
                "link": 151
              }
            ],
            "outputs": [
              {
                "name": "images",
                "type": "IMAGE",
                "slot_index": 0,
                "links": [
                  76
                ]
              }
            ],
            "properties": {
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
              "Node name for S&R": "WanVideoDecode"
            },
            "widgets_values": [
              true,
              272,
              272,
              144,
              128,
              "default"
            ],
            "color": "#322",
            "bgcolor": "#533"
          },
          {
            "id": 60,
            "type": "VHS_VideoCombine",
            "pos": [
              3150,
              -390
            ],
            "size": [
              698.6392211914062,
              334
            ],
            "flags": {},
            "order": 23,
            "mode": 0,
            "inputs": [
              {
                "name": "images",
                "type": "IMAGE",
                "link": 77
              },
              {
                "name": "audio",
                "shape": 7,
                "type": "AUDIO",
                "link": null
              },
              {
                "name": "meta_batch",
                "shape": 7,
                "type": "VHS_BatchManager",
                "link": null
              },
              {
                "name": "vae",
                "shape": 7,
                "type": "VAE",
                "link": null
              }
            ],
            "outputs": [
              {
                "name": "Filenames",
                "type": "VHS_FILENAMES",
                "links": null
              }
            ],
            "properties": {
              "cnr_id": "comfyui-videohelpersuite",
              "ver": "0a75c7958fe320efcb052f1d9f8451fd20c730a8",
              "Node name for S&R": "VHS_VideoCombine"
            },
            "widgets_values": {
              "frame_rate": 16,
              "loop_count": 0,
              "filename_prefix": "wan_kj/WanVideo2_2_I2V",
              "format": "video/h264-mp4",
              "pix_fmt": "yuv420p",
              "crf": 19,
              "save_metadata": true,
              "trim_to_audio": false,
              "pingpong": false,
              "save_output": true,
              "videopreview": {
                "hidden": false,
                "paused": false,
                "params": {
                  "filename": "WanVideo2_2_I2V_00029.mp4",
                  "subfolder": "wan_kj",
                  "type": "output",
                  "format": "video/h264-mp4",
                  "frame_rate": 16,
                  "workflow": "WanVideo2_2_I2V_00029.png",
                  "fullpath": "/home/classfoo/ai/ComfyUI/output/wan_kj/WanVideo2_2_I2V_00029.mp4"
                }
              }
            }
          },
          {
            "id": 89,
            "type": "WanVideoImageToVideoEncode",
            "pos": [
              1401.11962890625,
              -698.7300415039062
            ],
            "size": [
              308.2320251464844,
              390
            ],
            "flags": {},
            "order": 16,
            "mode": 0,
            "inputs": [
              {
                "name": "vae",
                "shape": 7,
                "type": "WANVAE",
                "link": 137
              },
              {
                "name": "clip_embeds",
                "shape": 7,
                "type": "WANVIDIMAGE_CLIPEMBEDS",
                "link": null
              },
              {
                "name": "start_image",
                "shape": 7,
                "type": "IMAGE",
                "link": 139
              },
              {
                "name": "end_image",
                "shape": 7,
                "type": "IMAGE",
                "link": null
              },
              {
                "name": "control_embeds",
                "shape": 7,
                "type": "WANVIDIMAGE_EMBEDS",
                "link": null
              },
              {
                "name": "temporal_mask",
                "shape": 7,
                "type": "MASK",
                "link": null
              },
              {
                "name": "extra_latents",
                "shape": 7,
                "type": "LATENT",
                "link": null
              },
              {
                "name": "add_cond_latents",
                "shape": 7,
                "type": "ADD_COND_LATENTS",
                "link": null
              },
              {
                "name": "width",
                "type": "INT",
                "widget": {
                  "name": "width"
                },
                "link": 141
              },
              {
                "name": "height",
                "type": "INT",
                "widget": {
                  "name": "height"
                },
                "link": 142
              }
            ],
            "outputs": [
              {
                "name": "image_embeds",
                "type": "WANVIDIMAGE_EMBEDS",
                "links": [
                  138,
                  149
                ]
              }
            ],
            "properties": {
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "ver": "7e290c67bff1f906cdab84523018573f6c9d4d7f",
              "Node name for S&R": "WanVideoImageToVideoEncode"
            },
            "widgets_values": [
              832,
              480,
              97,
              0,
              1,
              1,
              true,
              false,
              true
            ],
            "color": "#322",
            "bgcolor": "#533"
          },
          {
            "id": 27,
            "type": "WanVideoSampler",
            "pos": [
              1833.1953125,
              -394.93426513671875
            ],
            "size": [
              315,
              975
            ],
            "flags": {},
            "order": 19,
            "mode": 0,
            "inputs": [
              {
                "name": "model",
                "type": "WANVIDEOMODEL",
                "link": 109
              },
              {
                "name": "image_embeds",
                "type": "WANVIDIMAGE_EMBEDS",
                "link": 138
              },
              {
                "name": "text_embeds",
                "shape": 7,
                "type": "WANVIDEOTEXTEMBEDS",
                "link": 30
              },
              {
                "name": "samples",
                "shape": 7,
                "type": "LATENT",
                "link": null
              },
              {
                "name": "feta_args",
                "shape": 7,
                "type": "FETAARGS",
                "link": null
              },
              {
                "name": "context_options",
                "shape": 7,
                "type": "WANVIDCONTEXT",
                "link": null
              },
              {
                "name": "cache_args",
                "shape": 7,
                "type": "CACHEARGS",
                "link": null
              },
              {
                "name": "flowedit_args",
                "shape": 7,
                "type": "FLOWEDITARGS",
                "link": null
              },
              {
                "name": "slg_args",
                "shape": 7,
                "type": "SLGARGS",
                "link": null
              },
              {
                "name": "loop_args",
                "shape": 7,
                "type": "LOOPARGS",
                "link": null
              },
              {
                "name": "experimental_args",
                "shape": 7,
                "type": "EXPERIMENTALARGS",
                "link": null
              },
              {
                "name": "sigmas",
                "shape": 7,
                "type": "SIGMAS",
                "link": null
              },
              {
                "name": "unianimate_poses",
                "shape": 7,
                "type": "UNIANIMATE_POSE",
                "link": null
              },
              {
                "name": "fantasytalking_embeds",
                "shape": 7,
                "type": "FANTASYTALKING_EMBEDS",
                "link": null
              },
              {
                "name": "uni3c_embeds",
                "shape": 7,
                "type": "UNI3C_EMBEDS",
                "link": null
              },
              {
                "name": "multitalk_embeds",
                "shape": 7,
                "type": "MULTITALK_EMBEDS",
                "link": null
              },
              {
                "name": "freeinit_args",
                "shape": 7,
                "type": "FREEINITARGS",
                "link": null
              },
              {
                "name": "steps",
                "type": "INT",
                "widget": {
                  "name": "steps"
                },
                "link": 163
              },
              {
                "name": "cfg",
                "type": "FLOAT",
                "widget": {
                  "name": "cfg"
                },
                "link": 167
              },
              {
                "name": "end_step",
                "shape": 7,
                "type": "INT",
                "widget": {
                  "name": "end_step"
                },
                "link": 153
              }
            ],
            "outputs": [
              {
                "name": "samples",
                "type": "LATENT",
                "slot_index": 0,
                "links": [
                  143
                ]
              },
              {
                "name": "denoised_samples",
                "type": "LATENT",
                "links": null
              }
            ],
            "properties": {
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
              "Node name for S&R": "WanVideoSampler"
            },
            "widgets_values": [
              6,
              1,
              8,
              684541711075106,
              "randomize",
              true,
              "dpm++_sde",
              0,
              1,
              false,
              "comfy",
              0,
              10,
              ""
            ]
          },
          {
            "id": 90,
            "type": "WanVideoSampler",
            "pos": [
              2206.047119140625,
              -393.0194396972656
            ],
            "size": [
              315,
              975
            ],
            "flags": {},
            "order": 20,
            "mode": 0,
            "inputs": [
              {
                "name": "model",
                "type": "WANVIDEOMODEL",
                "link": 144
              },
              {
                "name": "image_embeds",
                "type": "WANVIDIMAGE_EMBEDS",
                "link": 149
              },
              {
                "name": "text_embeds",
                "shape": 7,
                "type": "WANVIDEOTEXTEMBEDS",
                "link": 152
              },
              {
                "name": "samples",
                "shape": 7,
                "type": "LATENT",
                "link": 143
              },
              {
                "name": "feta_args",
                "shape": 7,
                "type": "FETAARGS",
                "link": null
              },
              {
                "name": "context_options",
                "shape": 7,
                "type": "WANVIDCONTEXT",
                "link": null
              },
              {
                "name": "cache_args",
                "shape": 7,
                "type": "CACHEARGS",
                "link": null
              },
              {
                "name": "flowedit_args",
                "shape": 7,
                "type": "FLOWEDITARGS",
                "link": null
              },
              {
                "name": "slg_args",
                "shape": 7,
                "type": "SLGARGS",
                "link": null
              },
              {
                "name": "loop_args",
                "shape": 7,
                "type": "LOOPARGS",
                "link": null
              },
              {
                "name": "experimental_args",
                "shape": 7,
                "type": "EXPERIMENTALARGS",
                "link": null
              },
              {
                "name": "sigmas",
                "shape": 7,
                "type": "SIGMAS",
                "link": null
              },
              {
                "name": "unianimate_poses",
                "shape": 7,
                "type": "UNIANIMATE_POSE",
                "link": null
              },
              {
                "name": "fantasytalking_embeds",
                "shape": 7,
                "type": "FANTASYTALKING_EMBEDS",
                "link": null
              },
              {
                "name": "uni3c_embeds",
                "shape": 7,
                "type": "UNI3C_EMBEDS",
                "link": null
              },
              {
                "name": "multitalk_embeds",
                "shape": 7,
                "type": "MULTITALK_EMBEDS",
                "link": null
              },
              {
                "name": "freeinit_args",
                "shape": 7,
                "type": "FREEINITARGS",
                "link": null
              },
              {
                "name": "steps",
                "type": "INT",
                "widget": {
                  "name": "steps"
                },
                "link": 164
              },
              {
                "name": "start_step",
                "shape": 7,
                "type": "INT",
                "widget": {
                  "name": "start_step"
                },
                "link": 154
              }
            ],
            "outputs": [
              {
                "name": "samples",
                "type": "LATENT",
                "slot_index": 0,
                "links": [
                  151
                ]
              },
              {
                "name": "denoised_samples",
                "type": "LATENT",
                "links": null
              }
            ],
            "properties": {
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
              "Node name for S&R": "WanVideoSampler"
            },
            "widgets_values": [
              6,
              1,
              8,
              633890936133287,
              "randomize",
              true,
              "dpm++_sde",
              0,
              1,
              false,
              "comfy",
              10,
              -1,
              ""
            ]
          },
          {
            "id": 67,
            "type": "LoadImage",
            "pos": [
              330.2861633300781,
              -1144.739013671875
            ],
            "size": [
              274.080078125,
              314
            ],
            "flags": {},
            "order": 8,
            "mode": 0,
            "inputs": [],
            "outputs": [
              {
                "name": "IMAGE",
                "type": "IMAGE",
                "links": [
                  71
                ]
              },
              {
                "name": "MASK",
                "type": "MASK",
                "links": null
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.44",
              "Node name for S&R": "LoadImage"
            },
            "widgets_values": [
              "zelda0001.png",
              "image"
            ]
          },
          {
            "id": 16,
            "type": "WanVideoTextEncode",
            "pos": [
              675.8850708007812,
              -36.032100677490234
            ],
            "size": [
              474.3573303222656,
              316.48370361328125
            ],
            "flags": {},
            "order": 12,
            "mode": 0,
            "inputs": [
              {
                "name": "t5",
                "shape": 7,
                "type": "WANTEXTENCODER",
                "link": 15
              },
              {
                "name": "model_to_offload",
                "shape": 7,
                "type": "WANVIDEOMODEL",
                "link": null
              }
            ],
            "outputs": [
              {
                "name": "text_embeds",
                "type": "WANVIDEOTEXTEMBEDS",
                "slot_index": 0,
                "links": [
                  30,
                  152
                ]
              }
            ],
            "properties": {
              "cnr_id": "ComfyUI-WanVideoWrapper",
              "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
              "Node name for S&R": "WanVideoTextEncode"
            },
            "widgets_values": [
              "$prompt",
              "色调艳丽，过曝，静态，细节模糊不清，字幕，风格，作品，画作，画面，静止，整体发灰，最差质量，低质量，JPEG压缩残留，丑陋的，残缺的，多余的手指，画得不好的手部，画得不好的脸部，畸形的，毁容的，形态畸形的肢体，手指融合，静止不动的画面，杂乱的背景，三条腿，背景人很多，倒着走",
              true,
              false,
              "gpu"
            ],
            "color": "#332922",
            "bgcolor": "#593930"
          },
          {
            "id": 68,
            "type": "ImageResizeKJv2",
            "pos": [
              696.0801391601562,
              -1143.5843505859375
            ],
            "size": [
              270,
              336
            ],
            "flags": {},
            "order": 13,
            "mode": 0,
            "inputs": [
              {
                "name": "image",
                "type": "IMAGE",
                "link": 71
              },
              {
                "name": "mask",
                "shape": 7,
                "type": "MASK",
                "link": null
              }
            ],
            "outputs": [
              {
                "name": "IMAGE",
                "type": "IMAGE",
                "links": [
                  139
                ]
              },
              {
                "name": "width",
                "type": "INT",
                "links": [
                  141
                ]
              },
              {
                "name": "height",
                "type": "INT",
                "links": [
                  142
                ]
              },
              {
                "name": "mask",
                "type": "MASK",
                "links": null
              }
            ],
            "properties": {
              "cnr_id": "comfyui-kjnodes",
              "ver": "a6b867b63a29ca48ddb15c589e17a9f2d8530d57",
              "Node name for S&R": "ImageResizeKJv2"
            },
            "widgets_values": [
              720,
              1280,
              "lanczos",
              "crop",
              "0, 0, 0",
              "center",
              32,
              "cpu"
            ]
          }
        ],
        "links": [
          [
            15,
            11,
            0,
            16,
            0,
            "WANTEXTENCODER"
          ],
          [
            30,
            16,
            0,
            27,
            2,
            "WANVIDEOTEXTEMBEDS"
          ],
          [
            43,
            38,
            0,
            28,
            0,
            "VAE"
          ],
          [
            71,
            67,
            0,
            68,
            0,
            "IMAGE"
          ],
          [
            76,
            28,
            0,
            69,
            0,
            "IMAGE"
          ],
          [
            77,
            69,
            0,
            60,
            0,
            "IMAGE"
          ],
          [
            109,
            80,
            0,
            27,
            0,
            "WANVIDEOMODEL"
          ],
          [
            110,
            56,
            0,
            80,
            1,
            "WANVIDLORA"
          ],
          [
            111,
            35,
            0,
            22,
            0,
            "WANCOMPILEARGS"
          ],
          [
            112,
            35,
            0,
            71,
            0,
            "WANCOMPILEARGS"
          ],
          [
            137,
            38,
            0,
            89,
            0,
            "WANVAE"
          ],
          [
            138,
            89,
            0,
            27,
            1,
            "WANVIDIMAGE_EMBEDS"
          ],
          [
            139,
            68,
            0,
            89,
            2,
            "IMAGE"
          ],
          [
            141,
            68,
            1,
            89,
            8,
            "INT"
          ],
          [
            142,
            68,
            2,
            89,
            9,
            "INT"
          ],
          [
            143,
            27,
            0,
            90,
            3,
            "LATENT"
          ],
          [
            144,
            79,
            0,
            90,
            0,
            "WANVIDEOMODEL"
          ],
          [
            149,
            89,
            0,
            90,
            1,
            "WANVIDIMAGE_EMBEDS"
          ],
          [
            151,
            90,
            0,
            28,
            1,
            "LATENT"
          ],
          [
            152,
            16,
            0,
            90,
            2,
            "WANVIDEOTEXTEMBEDS"
          ],
          [
            153,
            91,
            0,
            27,
            19,
            "INT"
          ],
          [
            154,
            91,
            0,
            90,
            18,
            "INT"
          ],
          [
            155,
            22,
            0,
            92,
            0,
            "WANVIDEOMODEL"
          ],
          [
            156,
            39,
            0,
            92,
            1,
            "BLOCKSWAPARGS"
          ],
          [
            157,
            92,
            0,
            80,
            0,
            "WANVIDEOMODEL"
          ],
          [
            159,
            39,
            0,
            93,
            1,
            "BLOCKSWAPARGS"
          ],
          [
            160,
            71,
            0,
            93,
            0,
            "WANVIDEOMODEL"
          ],
          [
            161,
            93,
            0,
            79,
            0,
            "WANVIDEOMODEL"
          ],
          [
            163,
            94,
            0,
            27,
            17,
            "INT"
          ],
          [
            164,
            94,
            0,
            90,
            17,
            "INT"
          ],
          [
            165,
            94,
            0,
            95,
            0,
            "INT"
          ],
          [
            167,
            95,
            0,
            27,
            18,
            "FLOAT"
          ],
          [
            169,
            97,
            0,
            79,
            1,
            "WANVIDLORA"
          ]
        ],
        "groups": [],
        "config": {},
        "extra": {
          "ds": {
            "scale": 0.8140274938684259,
            "offset": [
              -72.47268359016539,
              1316.1281268300609
            ]
          },
          "frontendVersion": "1.23.4",
          "node_versions": {
            "ComfyUI-WanVideoWrapper": "5a2383621a05825d0d0437781afcb8552d9590fd",
            "comfy-core": "0.3.26",
            "ComfyUI-VideoHelperSuite": "0a75c7958fe320efcb052f1d9f8451fd20c730a8"
          },
          "VHS_latentpreview": false,
          "VHS_latentpreviewrate": 0,
          "VHS_MetadataImage": true,
          "VHS_KeepIntermediate": true
        },
        "version": 0.4,
        "widget_idx_map": {
          "27": {
            "seed": 3,
            "scheduler": 6
          },
          "90": {
            "seed": 3,
            "scheduler": 6
          }
        },
        "seed_widgets": {
          "27": 3,
          "90": 3
        }
      }
    }
  }
}